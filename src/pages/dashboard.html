<!-- <?php
session_start();
include('../static/header.php')
    ?> -->
    <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="This is a website about our Dairy." />
    <meta name="keywords" content="Dairy, Journal, Shessh" />
    <title>TwoHeartsMemoir</title>
    <link
      rel="shortcut icon"
      href="../assets/icons/pin.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../style/style.css" />
    <link rel="stylesheet" href="normalize.css">
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;500;600;700&family=Quicksand:wght@300;400;500;600;700&family=Satisfy&display=swap" rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
   />
  </head>
  <body>
    
<section class="bg-pages-pattern bg-no-repeat bg-cover bg-center min-h-screen flex flex-col gap-32 md:gap-24">
    <div>
        <!-- <?php
        include('../static/navbar.php');
        ?> -->
        <nav class="bg-[#ffffff] p-6 flex flex-row items-center justify-between h-full ">
            <div class="nav-toggle z-[60]">
              <button class="p-1 rounded-full" id="nav-toggler">
                <img width="40px" src="../assets/icons/navbar/ico-menu.png" alt="" />
              </button>
            </div>
            <div id="nav-links" class="nav-links text-primary-darkviolet absolute bg-accent-white left-0 top-0 right-0 md:right-auto bottom-0 p-5 z-50 rounded-e-md hidden">
              <ul class="text-[1.3rem] flex flex-col gap-3 m-12 mt-16">
                <li class="nav-item">
                  <img class="inline" width="50px" src="../assets/icons/navlinks/dashboard.png" alt="" /><a href="../pages/dashboard.php" class="ms-2">Dashboard</a>
                </li>
                <li class="nav-item">
                  <img class="inline" width="40px" src="../assets/icons/navlinks/newentry3.png" alt="" />
                  <a href="../pages/newentry.php" class="ms-2">New Entry</a>
                </li>
                <li class="nav-item">
                  <img class="inline" width="40px" src="../assets/icons/navlinks/gallery.png" alt="" />
                  <a href="../pages/gallery.php" class="ms-2">Gallery</a>
                </li>
                <li class="nav-item">
                  <img class="inline" width="40px" src="../assets/icons/navlinks/allentry2.png" alt="" />
                  <a href="../pages/allentry.php" class="ms-2">All Entries</a>
                </li>
                <li class="nav-item">
                  <img class="inline" width="40px" src="../assets/icons/navlinks/profile.png" alt="" />
                  <a href="../pages/profile.php" class="ms-2">Profile</a>
                </li>
              </ul>
            </div>
            <div class="nav-title">
              <h1 class="text-primary-darkviolet text-[1rem] md:text-2xl">
                <a href="../pages/home.php">TwoHeartsMemoir</a>
              </h1>
            </div>
            <div class="nav-profile flex flex-row gap-3 items-center">
              <button class="bg-primary-darkviolet p-1 rounded-md text-sm text-white">
                <a href="../pages/login.php">Login</a>
             </button>
          
            </div>
          </nav>
    </div>
    <div class="grid grid-cols-1 gap-6 mb-5 lg:grid-cols-3 gap-x-5 gap-y-3 grid-flow-dense w-fit m-2 md:m-10 h-[60vh] overflow-y-auto">
        <!-- Reusable component for each item -->
        <!-- php code here -->
        <!-- <?php 
            function getRecentEntry($category){
                //db connection first
                    $servername = "localhost";
                $username = "root";
                $password = "";
                $dbname = "twoheartsmemoir";

                // create connection to db and localhost
                $conn = new mysqli($servername, $username, $password, $dbname);

                // check connection
                if ($conn->connect_error) {
                    die("Connection failed: " . $conn->connect_error);
                }

                // Fetch the most recent entry for the category
                $sql = "SELECT title, entry_content FROM diary_entry WHERE category = '$category' ORDER BY entry_date DESC LIMIT 1";

                // result
                $result = $conn->query($sql);

                if ($result->num_rows > 0) {
                    $row = $result->fetch_assoc();
                    $title = $row["title"];
                    $content = $row["entry_content"];
                    $conn->close();
                    return [$title, $content];
                } else {
                    $conn->close();
                    return ["No Entry", "No Content"];
                }
            }

          
        $categories = ["Relationship", "Featured", "With Family", "Bonding", "Achievement"];

        foreach ($categories as $category) {
            $recentEntry = getRecentEntry($category);
            ?>
            <?php if ($category === 'Relationship') { ?> -->
            <!-- Div for Relationship category -->
            <div class="bg-accent-white p-4 self-center w-[95%] m-auto flex flex-col gap-4 rounded-2xl lg:w-full">
                <div class="flex flex-col gap-2 sm:flex-row justify-between flex-wrap">
                    <h1 class="text-primary-darkviolet text-4xl lg:text-[2rem]">
                        <!-- <?php echo $recentEntry[0]; ?> -->
                    </h1>
                    <button class="text-white font-normal bg-primary-darkviolet rounded-2xl px-3 py-1 text-sm">
                        <!-- <?php echo $category; ?> -->
                    </button>
                </div>
                <p>
                    <!-- <?php echo $recentEntry[1]; ?> Display the most recent entry title -->
                </p>
            </div>
            
            <!-- <?php } else if ($category === 'Featured') { ?> -->
            <!-- Repeat this component as needed -->
            <div
                class="bg-accent-white p-4 self-center w-[95%] ] m-auto flex flex-col gap-4 rounded-2xl lg:w-full lg:col-span-2 lg:row-span-5 h-full order-first lg:order-none">
                <div class="flex flex-col md:flex-row justify-between">
                    <h1 class="text-primary-darkviolet text-2xl md:text-4xl">
                        <!-- Featured Diary | <?php echo $recentEntry[0]; ?> -->
                    </h1>
                    <button
                        class="text-white font-normal bg-primary-darkviolet rounded-sm md:rounded-2xl px-3 py-1 text-sm">
                        <!-- <?php echo $category; ?> -->
                    </button>
                </div>
                <p>
                    <!-- <?php echo $recentEntry[1]; ?> -->
                </p>

                <div class="grid grid-cols-1 md:grid-cols-3 grid-flow-dense gap-y-5 gap-x-6">
                    <div
                        class="flex flex-col md:flex-col items-start md:items-center justify-between w-full gap-6 small:flex-row">
                        <img class="rounded-full w-20 lg:w-52 self-center" src="../assets/images/Doja_Cat_-_Paint_the_Town_Red.png" alt="" />
                        <p class="font-normal text-center small:text-start md:text-center text-sm lg:text-[1rem]">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit.
                            Possimus, eos. Consectetur nemo nisi assumenda mollitia in quo
                            voluptates error labore.
                        </p>
                    </div>
                    <div
                        class="flex flex-col small:flex-row md:flex-col items-start text-center small:text-start md:items-center justify-between w-full md:text-center gap-6">
                        <img class="rounded-full w-20 lg:w-52 self-center" src="../assets/images/music-image-1.jpg" alt="" />
                        <p class="font-normal text-center small:text-start md:text-center text-sm lg:text-[1rem]">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit.
                            Possimus, eos. Consectetur nemo nisi assumenda mollitia in quo
                            voluptates error labore.
                        </p>
                    </div>
                    <div
                        class="flex flex-col small:flex-row md:flex-col items-start text-start md:items-center justify-between w-full md:text-center gap-6">
                        <img class="rounded-full w-20 lg:w-52 self-center"
                            src="../assets/images/artworks-000016783437-9xp37m-t500x500.jpg" alt="" />
                        <p class="font-normal text-center small:text-start md:text-center text-sm lg:text-[1rem]">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit.
                            Possimus, eos. Consectetur nemo nisi assumenda mollitia in quo
                            voluptates error labore.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- <?php } else if ($category === 'Bonding') { ?> -->
            <!-- Repeat this component as needed -->
            <div class="bg-accent-white p-4 self-center w-[95%] lg:w-full m-auto flex flex-col gap-4 rounded-2xl">
                <div class="flex flex-col gap-2 sm:flex-row justify-between flex-wrap">
                    <h1 class="text-primary-darkviolet text-4xl lg:text-[2rem]">
                        <!-- <?php echo $recentEntry[0]; ?> -->
                    </h1>
                    <button class="text-white font-normal bg-primary-darkviolet rounded-2xl px-3 py-1 text-sm">
                        <!-- <?php echo $category; ?> -->
                    </button>
                </div>
                <p>
                    <!-- <?php echo $recentEntry[1]; ?> -->
                </p>
            </div>

            <!-- <?php } else if ($category === 'With Family') { ?> -->
            <!-- Repeat this component as needed -->
            <div class="bg-accent-white p-4 self-center w-[95%] lg:w-full m-auto flex flex-col gap-4 rounded-2xl">
                <div class="flex flex-col gap-2 sm:flex-row justify-between flex-wrap">
                    <h1 class="text-primary-darkviolet text-4xl lg:text-[2rem]">
                        <!-- <?php echo $recentEntry[0]; ?> -->
                    </h1>
                    <button class="text-white font-normal bg-primary-darkviolet rounded-2xl px-3 py-1 text-sm">
                        <!-- <?php echo $category; ?> -->
                    </button>
                </div>
                <p>
                    <!-- <?php echo $recentEntry[1]; ?> -->
                </p>
            </div>

            <!-- <?php } else if ($category === 'Achievement') { ?> -->
            <!-- Repeat this component as needed -->
            <div class="bg-accent-white p-4 self-center w-[95%] lg:w-full m-auto flex flex-col gap-4 rounded-2xl">
                <div class="flex flex-col gap-2 sm:flex-row justify-between flex-wrap">
                    <h1 class="text-primary-darkviolet text-4xl lg:text-[2rem]">
                        <!-- <?php echo $recentEntry[0]; ?> -->
                    </h1>
                    <button class="text-white font-normal bg-primary-darkviolet rounded-2xl px-3 py-1 text-sm">
                        <!-- <?php echo $category; ?> -->
                    </button>
                </div>
                <p>
                    <!-- <?php echo $recentEntry[1]; ?> -->
                </p>
            </div>

            <!-- <?php } else { ?> -->
            <!-- Repeat this component as needed -->
            <div class="bg-accent-white p-4 self-center w-[95%] m-auto flex flex-col gap-4 rounded-2xl lg:w-full">
                <div class="flex flex-col gap-2 sm:flex-row justify-between flex-wrap">
                    <h1 class="text-primary-darkviolet text-4xl lg:text-[2rem]">
                        <!-- <?php echo $recentEntry[0]; ?> -->
                    </h1>
                    <button class="text-white font-normal bg-primary-darkviolet rounded-2xl px-3 py-1 text-sm">
                        <!-- <?php echo $category; ?> -->
                    </button>
                </div>
                <p>
                    <!-- <?php echo $recentEntry[1]; ?> -->
                </p>
            </div>
            
            
            <!-- <?php } ?>
            <?php
        }
        ?> -->
    
        </div>
</section>
<script src="../js/scriptDashboard.js"></script>
<script src="../js/scriptNav.js"></script>
</body>

</html>